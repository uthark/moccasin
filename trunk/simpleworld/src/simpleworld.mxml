<?xml version="1.0" encoding="utf-8"?>
<mx:WindowedApplication xmlns:mx="http://www.adobe.com/2006/mxml" layout="absolute"
    verticalScrollPolicy="off" horizontalScrollPolicy="off"
    applicationComplete="onCreationComplete()"
    modalTransparencyBlur="0"
    invoke="handleInvoke(event)"
    xmlns:editor="com.joeberkovitz.moccasin.editor.*"
    xmlns:sweditor="com.joeberkovitz.simpleworld.editor.*"
>
    
    
    <mx:Script>
        <![CDATA[
            import com.joeberkovitz.simpleworld.service.AppDocumentService;
            import com.joeberkovitz.moccasin.service.BasicConfigurationService;
            import com.joeberkovitz.moccasin.view.ViewInfo;
            
            private function handleInvoke(e:InvokeEvent):void
            {
            }
            
            private function onCreationComplete():void
            {
                editor.documentService = new AppDocumentService();
                editor.configurationService = new BasicConfigurationService(null, "test.xml");

                editor.initializeEditor();

                editorMenuBar.editor = editor;
            }
        ]]>
    </mx:Script>
    
    <mx:VBox id="editorBody" width="100%" height="100%" horizontalAlign="left">
        <mx:Canvas id="menuHeader" width="100%">
            <sweditor:AppMenuBar id="editorMenuBar" width="100%"/>
        </mx:Canvas>
    
        <sweditor:AppEditor id="editor" height="100%" width="100%" minHeight="50" minWidth="50"/>
        
        <mx:HSlider id="scaleSlider" minimum="0.5" maximum="4" value="1" change="editor.setScale(scaleSlider.value)"/>
    </mx:VBox>
</mx:WindowedApplication>
